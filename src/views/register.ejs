<%- include('./partials/head') %>
  <link rel="stylesheet" href="/css/register.css">
  </head>

  <body>
    <%- include('./partials/header') %>


      <!-- Formulario -->
      <div class="contenedor-general">
        <form action="/users/register" method="post" class="create-form" enctype="multipart/form-data" id="form">
          <div class="control-formulario">
            <input type="text" name="name_and_surname" placeholder="Nombre y Apellido" class="register-control" id="name"
              value="<%= locals.oldData ? oldData.name : null%>"><i class="fa-solid fa-user"></i>
            <div id="nameError" class="alert-warning"></div>
            <% if (locals.errors && errors.name_and_surname ) { %>
              <div class="text-danger">
                <%= errors.name_and_surname.msg %>
              </div>
              <% } %>
          </div>


          <div class="control-formulario ">
            <input type="email" name="email" placeholder="E-mail" class="register-control" id="email"
              value="<%= locals.oldData ? oldData.email : null%>"><i class="fa-solid fa-envelope"></i>
            <div id="emailError" class="alert-warning"></div>
            <% if (locals.errors && errors.email ) { %>
              <div class="text-danger">
                <%= errors.email.msg %>
              </div>
              <% } %>
          </div>

          <div class="control-formulario">
            <input type="text" name="address" placeholder="Domicilio" class="register-control" id="address"
              value="<%= locals.oldData ? oldData.addres : null%>"> <i class="fa-solid fa-map-location-dot" style="margin-right: -7px;"></i>
            <div id="addressError" class="alert-warning"></div>
            <% if (locals.errors && errors.address ) { %>
              <div class="text-danger">
                <%= errors.address.msg %>
              </div>
              <% } %>
          </div>

          <div class="control-formulario">
            <input type="tel" name="phone" placeholder="Teléfono" id="phone" class="register-control"
              value="<%= locals.oldData ? oldData.phone : null%>"><i class="fa-solid fa-mobile-screen"></i>
            <div id="phoneError" class="alert-warning"></div>
            <% if (locals.errors && errors.phone ) { %>
              <div class="text-danger">
                <%= errors.phone.msg %>
              </div>
              <% } %>
          </div>
          <div></div>
      </div class="contenedor-final">
      <div class="control-formulario">
        <select name="country" class="control-pais" id="country" value="<%= locals.oldData ? oldData.country : null%>">
          <option value="">Elegí un país</option>
          <% let countries=['Argentina', 'Bolivia' ,'Brasil', 'Colombia' , 'Chile' , 'Ecuador' , 'Paraguay' , 'Perú'
            , 'Uruguay' ,'Venezuela']; %>
            <% for (const oneCountry of countries) { %>
              <option value="<%= oneCountry%>">
                <%= oneCountry %>
              </option>
              <% } %>
        </select>
        <div id="countryError" class="alert-warning"></div>
        <% if (locals.errors && errors.country ) { %>
          <div class="text-danger">
            <%= errors.country.msg %>
          </div>
          <% } %>
      </div>
      <div class="control-formulario">

        <h4>Elegí tu foto de usuario :</h4>
        <input type="file" name="avatar" id="image"
          class="register-form-control <%= locals.errors && errors.avatar ? 'is-invalid' : null %>">
        <div id="imageError" class="alert-warning"></div>
        <% if (locals.errors && errors.avatar) { %>
          <div class="text-danger">
            <%= errors.avatar.msg %>
          </div>


          <% } %>




            <br>
            <br>
            <input type="password" name="password" id="password" placeholder="Elegí tu contraseña" class="password"
              value="<%= locals.oldData ? oldData.password : null%>">
            <div id="passwordError" class="alert-warning"></div>
            <% if (locals.errors && errors.password ) { %>
              <div class="text-danger">
                <%= errors.password.msg %>
              </div>
              <% } %>
                <br>
                <br>
                <button type="submit" value="Enviar" class="Enviar">Enviar</button>
                <button type="reset" value="Borrar" class="Borrar">Borrar</button>
                <br>
                <br>
                </form>
      </div>
      <!-- </div> -->
      <%- include('./partials/footer') %>
        <script src="/js/register.js"></script>
        <!-- </div> -->
  </body>

  </html>